<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PASAR ROBLOX - Official Full Store</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        :root { --primary: #2b3990; --secondary: #f3f4f6; --accent: #ff4d4d; --success: #25D366; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }
        body { background: #f8f9fa; color: #333; padding-bottom: 100px; }
        .hidden { display: none !important; }

        /* --- HEADER --- */
        header { background: white; padding: 12px 20px; position: sticky; top: 0; z-index: 1000; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .logo { font-weight: 900; color: var(--primary); font-size: 1.3rem; display: flex; align-items: center; gap: 8px; }
        .btn-top-acc { background: var(--primary); color: white; padding: 6px 15px; border-radius: 20px; font-weight: 700; font-size: 0.8rem; cursor: pointer; }

        /* --- BANNER SLIDER --- */
        .banner-container { padding: 15px; background: white; }
        .banner-wrapper { width: 100%; overflow: hidden; border-radius: 15px; position: relative; }
        .banner-track { display: flex; transition: 0.5s ease-in-out; width: 300%; }
        .banner-track img { width: 100%; height: 160px; object-fit: cover; }

        /* --- GRID UTAMA --- */
        .page { padding: 15px; }
        .game-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
        .game-card { background: white; border-radius: 15px; padding: 10px; text-align: center; box-shadow: 0 2px 8px rgba(0,0,0,0.03); cursor: pointer; border: 1.5px solid transparent; }
        .game-card img { width: 100%; aspect-ratio: 1/1; border-radius: 12px; margin-bottom: 8px; object-fit: cover; }
        .game-card p { font-size: 0.7rem; font-weight: 700; }
        .game-card.selected { border-color: var(--primary); background: #f0f4ff; }

        /* --- FLOATING CS --- */
        .fab-cs { position: fixed; bottom: 85px; right: 20px; width: 55px; height: 55px; background: var(--success); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.8rem; box-shadow: 0 4px 15px rgba(0,0,0,0.2); z-index: 3000; cursor: pointer; animation: pulse 2s infinite; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }

        /* --- UI COMPONENTS --- */
        .bottom-sheet { position: fixed; bottom: 0; width: 100%; background: white; border-radius: 25px 25px 0 0; padding: 25px; z-index: 2000; box-shadow: 0 -5px 25px rgba(0,0,0,0.15); transform: translateY(100%); transition: 0.3s; max-height: 85vh; overflow-y: auto; }
        .bottom-sheet.active { transform: translateY(0); }
        .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1900; display: none; }
        .overlay.active { display: block; }
        
        .menu-box { background: white; margin-bottom: 15px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); overflow: hidden; }
        .menu-item { padding: 18px; border-bottom: 1px solid #f5f5f5; display: flex; justify-content: space-between; align-items: center; cursor: pointer; }

        /* --- BUTTONS & INPUTS --- */
        .input-uid, .input-file { padding: 12px; border-radius: 10px; border: 1px solid #ddd; width: 100%; outline: none; margin: 10px 0; font-size: 0.9rem; }
        .btn-confirm { width: 100%; background: var(--primary); color: white; padding: 16px; border: none; border-radius: 12px; font-weight: 800; margin-top: 10px; cursor: pointer; }
        .btn-wa { background: var(--success); }
        .qris-img { width: 220px; display: block; margin: 10px auto; border: 2px solid #eee; padding: 5px; border-radius: 10px; }

        /* --- NAV --- */
        .nav-bar { position: fixed; bottom: 0; width: 100%; background: white; display: flex; border-top: 1px solid #eee; padding: 10px 0; z-index: 1500; }
        .nav-item { flex: 1; text-align: center; color: #999; font-size: 0.7rem; cursor: pointer; }
        .nav-item.active { color: var(--primary); font-weight: 800; }
        .nav-item i { font-size: 1.2rem; display: block; margin-bottom: 4px; }
    </style>
</head>
<body>

    <div id="overlay" class="overlay" onclick="closeAll()"></div>

    <div class="fab-cs" onclick="contactCS()">
        <i class="fab fa-whatsapp"></i>
    </div>

    <header>
        <div class="logo"><i class="fas fa-bolt"></i> PASAR ROBLOX</div>
        <div id="acc-btn" class="btn-top-acc" onclick="nav('profile', document.querySelectorAll('.nav-item')[3])">Masuk</div>
    </header>

    <main id="page-home">
        <div class="banner-container">
            <div class="banner-wrapper">
                <div class="banner-track" id="bannerTrack">
                    <img src="https://image2url.com/r2/default/images/1771501486399-802485da-7927-4662-bd1e-845390ccc424.jpg">
                    <img src="https://image2url.com/r2/default/images/1771501571555-a6078f47-61e0-4780-b79e-1fb01d620000.jpg">
                    <img src="https://image2url.com/r2/default/images/1771502261299-376b9d29-8a2c-4d6c-94fd-520ec9c0bb60.jpg">
                </div>
            </div>
        </div>
        <div class="page">
            <h3 style="margin-bottom: 15px;">ðŸ”¥ Produk Unggulan</h3>
            <div class="game-grid" id="main-game-list"></div>
        </div>
    </main>

    <main id="page-nokos" class="page hidden">
        <h3 style="margin-bottom: 20px;">ðŸ“± Layanan NOKOS (OTP)</h3>
        <div class="game-grid" style="grid-template-columns: 1fr 1fr;">
            <div class="game-card" onclick="selectNokos('WhatsApp', 10000, this)">
                <i class="fab fa-whatsapp" style="font-size: 2.5rem; color: var(--success); margin-bottom: 10px; display: block;"></i>
                <p>WhatsApp</p>
                <b>Rp 4.000</b>
            </div>
            <div class="game-card" onclick="selectNokos('Telegram', 8000, this)">
                <i class="fab fa-telegram" style="font-size: 2.5rem; color: #0088cc; margin-bottom: 10px; display: block;"></i>
                <p>Telegram</p>
                <b>Rp 8.000</b>
            </div>
        </div>
        <button class="btn-confirm" onclick="addToCart()">Lanjutkan Pesanan</button>
    </main>

    <main id="page-cart" class="page hidden">
        <h3>ðŸ›’ Checkout Pesanan</h3>
        <div id="cart-box" class="menu-box" style="margin: 15px 0; padding: 20px;">
            <p style="text-align: center; color: #999;">Keranjang Kosong</p>
        </div>
        
        <div id="payment-section" class="hidden">
            <p style="font-weight: 800; font-size: 0.7rem; color: #888; margin-bottom: 10px;">PILIH METODE PEMBAYARAN</p>
            <div class="menu-item" style="background:white; border-radius:12px; margin-bottom:10px; border: 1px solid #eee;" onclick="openQrisModal()">
                <span><i class="fas fa-qrcode" style="color:var(--primary)"></i> QRIS Otomatis</span>
                <b class="final-price" style="color:var(--primary)"></b>
            </div>
            <button class="btn-confirm btn-wa" onclick="finishOrder('WhatsApp Direct')">KONFIRMASI VIA WHATSAPP</button>
        </div>
    </main>

    <main id="page-profile" class="hidden">
        <div id="auth-screen" style="padding: 60px 25px; text-align: center;">
            <h2>Masuk Member</h2>
            <input type="text" id="usernameIn" placeholder="Username" class="input-uid">
            <button class="btn-confirm" onclick="doLogin()">MASUK SEKARANG</button>
        </div>
        
        <div id="account-screen" class="hidden">
            <div style="background:var(--primary); color:white; padding:40px 20px; text-align:center; border-radius:0 0 30px 30px;">
                <div style="width:70px; height:70px; background:white; border-radius:50%; margin:0 auto 15px; display:flex; align-items:center; justify-content:center; color:var(--primary); font-size: 1.5rem;"><i class="fas fa-user"></i></div>
                <h3 id="displayUname">User</h3>
                <p style="font-size: 0.8rem; opacity: 0.8;">ID Member: LG-9921</p>
            </div>
            <div class="menu-box" style="margin:20px 15px;">
                <div class="menu-item"><b><i class="fas fa-history"></i> Riwayat Pembelian</b></div>
                <div id="order-history" style="padding: 15px; background: #fafafa; font-size: 0.85rem; min-height: 100px;">
                    <p style="color:#999; text-align:center;">Belum ada riwayat transaksi.</p>
                </div>
                <div class="menu-item" style="color:red; border-top: 1px solid #eee" onclick="doLogout()"><span>Logout Akun</span><i class="fas fa-sign-out-alt"></i></div>
            </div>
        </div>
    </main>

    <div id="sheet" class="bottom-sheet">
        <h3 id="sheet-title">Pilih Produk</h3>
        <input type="text" id="target-id" placeholder="Masukkan Link Grup / Link ps/Id" class="input-uid">
        <div class="game-grid" id="nominal-grid" style="grid-template-columns: 1fr 1fr; margin-bottom:15px;"></div>
        <button class="btn-confirm" onclick="addToCart()">BELI SEKARANG</button>
    </div>

    <div id="qris-modal" class="bottom-sheet">
        <h3 style="text-align:center;">Scan QRIS Di Bawah</h3>
        <img src="https://image2url.com/r2/default/images/1771500211350-b6054fe5-ace8-4d0d-a5f7-6de988fe0b71.png" class="qris-img">
        <p style="text-align:center; font-weight:800; color:var(--primary); font-size: 1.2rem;" class="final-price"></p>
        
        <div style="margin-top: 15px; border-top: 1px dashed #ccc; padding-top: 15px;">
            <label style="font-size:0.8rem; font-weight:700;">Upload Bukti Transfer:</label>
            <input type="file" id="bukti-file" class="input-file">
            <button class="btn-confirm btn-wa" onclick="finishOrder('QRIS')">KONFIRMASI PEMBAYARAN</button>
        </div>
    </div>

    <nav class="nav-bar">
        <div class="nav-item active" onclick="nav('home', this)"><i class="fas fa-home"></i>Home</div>
        <div class="nav-item" onclick="nav('cart', this)"><i class="fas fa-shopping-cart"></i>Keranjang</div>
        <div class="nav-item" onclick="nav('nokos', this)"><i class="fas fa-comment-dots"></i>Nokos</div>
        <div class="nav-item" onclick="nav('profile', this)"><i class="fas fa-user"></i>Profil</div>
    </nav>

    <script>
        // DATABASE GAMBAR & PRODUK (Ganti link banner untuk ganti gambar di home)
        const db = {
            "JPM PAKET HEMAT": {
                banner: "https://via.placeholder.com/150/2b3990/ffffff?text=MLBB", 
                items: [{q:"100 MEMBER", p:19500}, {q:"172 Diamonds", p:39000}, {q:"257 Diamonds", p:60000}]
            },
            "Free Fire": {
                banner: "https://via.placeholder.com/150/ff4d4d/ffffff?text=FREE+FIRE",
                items: [{q:"70 Diamonds", p:10000}, {q:"140 Diamonds", p:20000}, {q:"355 Diamonds", p:50000}]
            },
            "PUBG Mobile": {
                banner: "https://via.placeholder.com/150/000000/ffffff?text=PUBGM",
                items: [{q:"60 UC", p:15000}, {q:"325 UC", p:70000}]
            },
            "JPM SUPER KILAT": {
                banner: "https://via.placeholder.com/150/ff4d4d/ffffff?text=FREE+FIRE",
                items: [{q:"70 Diamonds", p:10000}, {q:"140 Diamonds", p:20000}, {q:"355 Diamonds", p:50000}]
            },
            "JPM DANA PELAJAR": {
                banner: "https://via.placeholder.com/150/ff4d4d/ffffff?text=FREE+FIRE",
                items: [{q:"70 Diamonds", p:10000}, {q:"140 Diamonds", p:20000}, {q:"355 Diamonds", p:50000}]
            },
            "JADI BOT": {
                banner: "https://via.placeholder.com/150/ff4d4d/ffffff?text=FREE+FIRE",
                items: [{q:"70 Diamonds", p:10000}, {q:"140 Diamonds", p:20000}, {q:"355 Diamonds", p:50000}]
            },
            "SEWA BOT": {
                banner: "https://via.placeholder.com/150/ff4d4d/ffffff?text=FREE+FIRE",
                items: [{q:"70 Diamonds", p:10000}, {q:"140 Diamonds", p:20000}, {q:"355 Diamonds", p:50000}]
            }
        };

        let cart = {};
        let historyData = [];
        const noWA = "6281234567890"; // GANTI NOMOR WHATSAPP KAMU DI SINI

        // INISIALISASI HOME
        function init() {
            document.getElementById('main-game-list').innerHTML = Object.keys(db).map(name => `
                <div class="game-card" onclick="openSheet('${name}')">
                    <img src="${db[name].banner}">
                    <p>${name}</p>
                </div>
            `).join('');
            startBanner();
        }

        // SLIDER LOGIC
        function startBanner() {
            let index = 0;
            setInterval(() => {
                index = (index + 1) % 3;
                document.getElementById('bannerTrack').style.transform = `translateX(-${(index * 100) / 3}%)`;
            }, 3000);
        }

        // SHEET & SELECTION
        function openSheet(name) {
            cart = { game: name };
            document.getElementById('sheet-title').innerText = name;
            document.getElementById('nominal-grid').innerHTML = db[name].items.map(i => `
                <div class="game-card" onclick="selectNom('${i.q}', ${i.p}, this)">
                    <b>${i.q}</b><br><span style="font-size:0.7rem">Rp ${i.p.toLocaleString('id-ID')}</span>
                </div>
            `).join('');
            document.getElementById('sheet').classList.add('active');
            document.getElementById('overlay').classList.add('active');
        }

        function selectNom(q, p, el) {
            document.querySelectorAll('#nominal-grid .game-card').forEach(c => c.classList.remove('selected'));
            el.classList.add('selected');
            cart.qty = q; cart.price = p;
        }

        function selectNokos(app, p, el) {
            document.querySelectorAll('#page-nokos .game-card').forEach(c => c.classList.remove('selected'));
            el.classList.add('selected');
            cart = { game: "Nokos " + app, qty: "Layanan OTP", price: p, target: "System" };
        }

        function addToCart() {
            if(!cart.qty) return alert("Pilih nominal terlebih dahulu!");
            cart.target = document.getElementById('target-id').value || cart.target || "User";
            document.getElementById('cart-box').innerHTML = `
                <div style="border-left: 4px solid var(--primary); padding-left: 15px;">
                    <b style="font-size:1.1rem">${cart.game}</b><br>
                    <span>${cart.qty}</span><br>
                    <small style="color:#888">ID: ${cart.target}</small><br>
                    <b style="color:var(--primary)">Total: Rp ${cart.price.toLocaleString('id-ID')}</b>
                </div>`;
            document.querySelectorAll('.final-price').forEach(b => b.innerText = "Rp " + cart.price.toLocaleString('id-ID'));
            document.getElementById('payment-section').classList.remove('hidden');
            closeAll(); nav('cart', document.querySelectorAll('.nav-item')[1]);
        }

        // PAYMENT & WA
        function openQrisModal() {
            document.getElementById('qris-modal').classList.add('active');
            document.getElementById('overlay').classList.add('active');
        }

        function finishOrder(method) {
            const text = `*PESANAN BARU - LAPAKGAMING*%0A%0A*Produk:* ${cart.game}%0A*Item:* ${cart.qty}%0A*ID Target:* ${cart.target}%0A*Metode:* ${method}%0A*Total:* Rp ${cart.price.toLocaleString('id-ID')}%0A%0A_Mohon diproses segera, Terima kasih!_`;
            historyData.unshift({...cart, method: method, date: new Date().toLocaleTimeString()});
            renderHistory();
            window.open(`https://wa.me/${noWA}?text=${text}`, '_blank');
            closeAll(); nav('profile', document.querySelectorAll('.nav-item')[3]);
        }

        function contactCS() {
            window.open(`https://wa.me/${noWA}?text=Halo+Admin+CS+LapakGaming,+saya+butuh+bantuan...`, '_blank');
        }

        // HISTORY & AUTH
        function renderHistory() {
            const h = document.getElementById('order-history');
            h.innerHTML = historyData.map(l => `
                <div style="padding:12px 0; border-bottom:1px solid #eee;">
                    <b>${l.game}</b> <span style="float:right; color:var(--primary)">Rp ${l.price.toLocaleString()}</span><br>
                    <small>${l.date} | ${l.method}</small>
                </div>`).join('');
        }

        function doLogin() {
            const u = document.getElementById('usernameIn').value;
            if(!u) return alert("Masukkan username!");
            document.getElementById('displayUname').innerText = u;
            document.getElementById('auth-screen').classList.add('hidden');
            document.getElementById('account-screen').classList.remove('hidden');
            document.getElementById('acc-btn').innerText = "Akun";
        }

        function doLogout() {
            document.getElementById('auth-screen').classList.remove('hidden');
            document.getElementById('account-screen').classList.add('hidden');
            document.getElementById('acc-btn').innerText = "Masuk";
        }

        function nav(id, el) {
            document.querySelectorAll('main').forEach(m => m.classList.add('hidden'));
            document.getElementById('page-'+id).classList.remove('hidden');
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            el.classList.add('active');
        }

        function closeAll() {
            document.querySelectorAll('.bottom-sheet, .overlay').forEach(el => el.classList.remove('active'));
        }

        init();
    </script>
</body>
                </html>
